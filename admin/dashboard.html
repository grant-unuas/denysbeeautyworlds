<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Deny's Beauty World</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#8B5A2B",
                        "primary-light": "#B88A5C",
                        "background-light": "#F9F5F0",
                        "background-dark": "#1A1512",
                        "gold": "#D4AF37",
                        "champagne": "#F7E7CE",
                    },
                    fontFamily: {
                        display: ['"Playfair Display"', 'serif'],
                        body: ['"Lato"', 'sans-serif'],
                    },
                },
            },
        };
        
        // Google callback and session check
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('code')) {
            sessionStorage.setItem('adminAuthenticated', 'true');
            sessionStorage.setItem('adminLoginTime', Date.now().toString());
            sessionStorage.setItem('adminData', JSON.stringify({
                fullName: 'Google User',
                email: 'user@gmail.com',
                provider: 'google'
            }));
            window.history.replaceState({}, document.title, window.location.pathname);
        }
        
        if (sessionStorage.getItem('adminAuthenticated') !== 'true') {
            window.location.href = 'login.html';
        }
    </script>
</head>
<body class="font-body bg-background-light dark:bg-background-dark min-h-screen">
    <div class="flex">
        <!-- Mobile menu button -->
        <button id="mobileMenuBtn" class="lg:hidden fixed top-4 left-4 z-50 bg-primary text-white p-2 rounded-lg">
            <span class="material-icons">menu</span>
        </button>

        <!-- Sidebar -->
        <div id="sidebar" class="w-64 bg-white dark:bg-gray-800 shadow-lg h-screen fixed transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out z-40">
            <div class="p-6">
                <div class="flex items-center gap-2 mb-8">
                    <span class="material-icons text-primary text-3xl">diamond</span>
                    <span class="font-display font-bold text-xl text-primary dark:text-champagne">DENY'S</span>
                </div>
                
                <nav class="space-y-2">
                    <a href="#dashboard" onclick="showSection('dashboard')" class="nav-item flex items-center gap-3 p-3 rounded-lg bg-primary text-white">
                        <span class="material-icons">dashboard</span>
                        Dashboard
                    </a>
                    <a href="#products" onclick="showSection('products')" class="nav-item flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <span class="material-icons">inventory</span>
                        Wigs/Products
                    </a>
                    <a href="#videos" onclick="showSection('videos')" class="nav-item flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <span class="material-icons">video_library</span>
                        Videos
                    </a>
                    <a href="#gallery" onclick="showSection('gallery')" class="nav-item flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <span class="material-icons">photo_library</span>
                        Gallery
                    </a>
                    <a href="#services" onclick="showSection('services')" class="nav-item flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <span class="material-icons">spa</span>
                        Services
                    </a>
                    <a href="#bookings" onclick="showSection('bookings')" class="nav-item flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <span class="material-icons">event</span>
                        Bookings
                    </a>
                    <a href="#profile" onclick="showSection('profile')" class="nav-item flex items-center gap-3 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <span class="material-icons">person</span>
                        Profile
                    </a>
                </nav>
            </div>
            
            <div class="absolute bottom-6 left-6 right-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <span class="material-icons text-white text-sm">person</span>
                        </div>
                        <span id="userName" class="text-sm font-medium text-gray-700 dark:text-gray-300">Admin</span>
                    </div>
                    <button onclick="logout()" class="text-gray-500 hover:text-red-500">
                        <span class="material-icons">logout</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="lg:ml-64 flex-1 p-4 lg:p-8 pt-16 lg:pt-8">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="section">
                <div class="mb-8">
                    <h1 class="text-2xl lg:text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-2">Dashboard</h1>
                    <p class="text-gray-600 dark:text-gray-400">Welcome to Deny's Beauty World Admin Panel</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 p-4 lg:p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs lg:text-sm font-medium text-gray-600 dark:text-gray-400">Total Products</p>
                                <p class="text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100">0</p>
                            </div>
                            <div class="w-10 h-10 lg:w-12 lg:h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span class="material-icons text-blue-600 text-lg lg:text-xl">inventory</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-4 lg:p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs lg:text-sm font-medium text-gray-600 dark:text-gray-400">Videos</p>
                                <p class="text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100">0</p>
                            </div>
                            <div class="w-10 h-10 lg:w-12 lg:h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="material-icons text-green-600 text-lg lg:text-xl">video_library</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-4 lg:p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs lg:text-sm font-medium text-gray-600 dark:text-gray-400">Gallery Images</p>
                                <p class="text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100">0</p>
                            </div>
                            <div class="w-10 h-10 lg:w-12 lg:h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="material-icons text-purple-600 text-lg lg:text-xl">photo_library</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 p-4 lg:p-6 rounded-xl shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs lg:text-sm font-medium text-gray-600 dark:text-gray-400">Bookings</p>
                                <p class="text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100">0</p>
                            </div>
                            <div class="w-10 h-10 lg:w-12 lg:h-12 bg-gold/20 rounded-lg flex items-center justify-center">
                                <span class="material-icons text-gold text-lg lg:text-xl">event</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                    <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4">Quick Actions</h3>
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
                        <button onclick="showSection('products')" class="flex items-center gap-2 p-3 bg-primary text-white rounded-lg hover:bg-primary-light">
                            <span class="material-icons">add</span>
                            Add Product
                        </button>
                        <button onclick="showSection('videos')" class="flex items-center gap-2 p-3 bg-red-500 text-white rounded-lg hover:bg-red-600">
                            <span class="material-icons">video_call</span>
                            Upload Video
                        </button>
                        <button onclick="showSection('gallery')" class="flex items-center gap-2 p-3 bg-green-500 text-white rounded-lg hover:bg-green-600">
                            <span class="material-icons">add_photo_alternate</span>
                            Add Image
                        </button>
                        <button onclick="showSection('bookings')" class="flex items-center gap-2 p-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600">
                            <span class="material-icons">event</span>
                            View Bookings
                        </button>
                    </div>
                </div>
            </div>

            <!-- Other sections -->
            <div id="products-section" class="section hidden">
                <h1 class="text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-8">Products</h1>
                <p class="text-gray-600 dark:text-gray-400">Product management coming soon...</p>
            </div>

            <div id="videos-section" class="section hidden">
                <h1 class="text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-8">Videos</h1>
                <p class="text-gray-600 dark:text-gray-400">Video management coming soon...</p>
            </div>

            <div id="gallery-section" class="section hidden">
                <h1 class="text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-8">Gallery</h1>
                <p class="text-gray-600 dark:text-gray-400">Gallery management coming soon...</p>
            </div>

            <div id="services-section" class="section hidden">
                <h1 class="text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-8">Services</h1>
                <p class="text-gray-600 dark:text-gray-400">Service management coming soon...</p>
            </div>

            <div id="bookings-section" class="section hidden">
                <h1 class="text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-8">Bookings</h1>
                <p class="text-gray-600 dark:text-gray-400">Booking management coming soon...</p>
            </div>

            <div id="profile-section" class="section hidden">
                <h1 class="text-3xl font-display font-bold text-gray-800 dark:text-gray-200 mb-8">Profile</h1>
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 max-w-2xl">
                    <div class="flex items-center gap-6 mb-6">
                        <div class="w-20 h-20 bg-primary rounded-full flex items-center justify-center">
                            <span class="material-icons text-white text-3xl">person</span>
                        </div>
                        <div>
                            <h3 id="displayName" class="text-xl font-semibold text-gray-800 dark:text-gray-200">Google User</h3>
                            <p id="displayEmail" class="text-gray-600 dark:text-gray-400">user@gmail.com</p>
                            <p id="loginMethod" class="text-sm text-gray-500">Google Account</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            document.getElementById(sectionName + '-section').classList.remove('hidden');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('bg-primary', 'text-white');
                item.classList.add('text-gray-700', 'dark:text-gray-300', 'hover:bg-gray-100', 'dark:hover:bg-gray-700');
            });
            
            event.target.closest('.nav-item').classList.add('bg-primary', 'text-white');
            event.target.closest('.nav-item').classList.remove('text-gray-700', 'dark:text-gray-300', 'hover:bg-gray-100', 'dark:hover:bg-gray-700');
        }

        function logout() {
            sessionStorage.clear();
            window.location.href = 'login.html';
        }

        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            document.getElementById('sidebar').classList.toggle('-translate-x-full');
        });

        window.addEventListener('load', () => {
            const userData = JSON.parse(sessionStorage.getItem('adminData') || '{}');
            document.getElementById('userName').textContent = userData.fullName || 'Admin';
            document.getElementById('displayName').textContent = userData.fullName || 'Admin';
            document.getElementById('displayEmail').textContent = userData.email || 'admin@example.com';
            document.getElementById('loginMethod').textContent = userData.provider === 'google' ? 'Google Account' : 'Email & Password';
        });
    </script>
</body>
</html>
